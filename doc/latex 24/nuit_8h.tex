\doxysection{Référence du fichier src/nuit.h}
\hypertarget{nuit_8h}{}\label{nuit_8h}\index{src/nuit.h@{src/nuit.h}}


Implémentation d’un effet de nuit.  


{\ttfamily \#include $<$SDL2/\+SDL.\+h$>$}\newline
{\ttfamily \#include "{}entite.\+h"{}}\newline
{\ttfamily \#include "{}constantes.\+h"{}}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}}
\begin{DoxyCompactList}\small\item\em objet contenant les variables à modifier pour la transition entre jour et nuit ainsi que les paramètres nécessaires au calcul de la transition \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{nuit_8h_aebaf97ecbd20a9ea38cc72dbca2092fe}\label{nuit_8h_aebaf97ecbd20a9ea38cc72dbca2092fe} 
\#define {\bfseries MAX\+\_\+\+RAYON\+\_\+\+VISIBLE}~\mbox{\hyperlink{constantes_8h_aa4a3a591658d20b4b8d8d65f552145ef}{TAILLE\+\_\+H}}
\begin{DoxyCompactList}\small\item\em maximum du rayon de la zone visible à la fin de la transition vers le mode jour \end{DoxyCompactList}\item 
\Hypertarget{nuit_8h_ab14a065a2f98f29c22a3ef0f166ec61b}\label{nuit_8h_ab14a065a2f98f29c22a3ef0f166ec61b} 
\#define {\bfseries FACTEUR\+\_\+\+MIN\+\_\+\+RAYON\+\_\+\+VISIBLE}~4
\begin{DoxyCompactList}\small\item\em valeur multipliée par la largeur du personnage pour donner le rayon minimum de la zone visible en mode nuit \end{DoxyCompactList}\item 
\Hypertarget{nuit_8h_ac6961090daf999c4db0e3d053f602f66}\label{nuit_8h_ac6961090daf999c4db0e3d053f602f66} 
\#define {\bfseries FACTEUR\+\_\+\+OBSCURCISSEMENT}~6.
\begin{DoxyCompactList}\small\item\em caractérise la rapidité de la transition de transparence entre la zone visible et la zone cachée \end{DoxyCompactList}\item 
\Hypertarget{nuit_8h_ae9a2a6a1e246dc6228f07a9bbec1569b}\label{nuit_8h_ae9a2a6a1e246dc6228f07a9bbec1569b} 
\#define {\bfseries PAS\+\_\+\+TRANSITION}~5
\begin{DoxyCompactList}\small\item\em pas, en pourcentage par frame, de la transition entre le jour et la nuit ou l’inverse \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{nuit_8h_a4a5bb24f9a7369291aa45bcad3ab85ba}{creer\+\_\+nuit}} (SDL\+\_\+\+Renderer \texorpdfstring{$\ast$}{*}, \mbox{\hyperlink{entite_8h_a2cbf188682c05adae88dc39bdd7ef995}{t\+\_\+entite}} \texorpdfstring{$\ast$}{*}centre, SDL\+\_\+\+FRect zone\+\_\+jeu, SDL\+\_\+\+Texture \texorpdfstring{$\ast$}{*}texture\+\_\+jour, SDL\+\_\+\+Texture \texorpdfstring{$\ast$}{*}texture\+\_\+nuit)
\begin{DoxyCompactList}\small\item\em alloue la mémoire pour un objet {\ttfamily \doxylink{structt__nuit}{t\+\_\+nuit}} et initialise ses champs \end{DoxyCompactList}\item 
void \mbox{\hyperlink{nuit_8h_a61f4b7f050df29851049e1624eaecbb6}{transitionner\+\_\+nuit}} (\mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}} \texorpdfstring{$\ast$}{*})
\begin{DoxyCompactList}\small\item\em effectuer un pas de transition entre le mode jour et le mode nuit ou l’inverse \end{DoxyCompactList}\item 
void \mbox{\hyperlink{nuit_8h_a78981017230fdda5e46687f4714cddc4}{basculer\+\_\+nuit}} (\mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}} \texorpdfstring{$\ast$}{*})
\begin{DoxyCompactList}\small\item\em basculer le mode jour ou nuit de l’effet pour effectuer une transition \end{DoxyCompactList}\item 
void \mbox{\hyperlink{nuit_8h_a4303b85b5050edb55214185fc6a8df7e}{detruire\+\_\+nuit}} (\mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}nuit)
\begin{DoxyCompactList}\small\item\em libérer la mémoire d’un objet {\ttfamily \doxylink{structt__nuit}{t\+\_\+nuit}} \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Implémentation d’un effet de nuit. 

L’effet consiste à cacher la zone de jeu derrière une texture remplie de noir à l’exception d’un cercle centré sur le joueur avec une transition de transparence entre la zone cachée et la zone visible. 

\doxysubsection{Documentation des fonctions}
\Hypertarget{nuit_8h_a78981017230fdda5e46687f4714cddc4}\label{nuit_8h_a78981017230fdda5e46687f4714cddc4} 
\index{nuit.h@{nuit.h}!basculer\_nuit@{basculer\_nuit}}
\index{basculer\_nuit@{basculer\_nuit}!nuit.h@{nuit.h}}
\doxysubsubsection{\texorpdfstring{basculer\_nuit()}{basculer\_nuit()}}
{\footnotesize\ttfamily void basculer\+\_\+nuit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}} \texorpdfstring{$\ast$}{*}}]{nuit }\end{DoxyParamCaption})}



basculer le mode jour ou nuit de l’effet pour effectuer une transition 


\begin{DoxyParams}{Paramètres}
{\em nuit} & objet d’effet de nuit à modifier \\
\hline
\end{DoxyParams}
\Hypertarget{nuit_8h_a4a5bb24f9a7369291aa45bcad3ab85ba}\label{nuit_8h_a4a5bb24f9a7369291aa45bcad3ab85ba} 
\index{nuit.h@{nuit.h}!creer\_nuit@{creer\_nuit}}
\index{creer\_nuit@{creer\_nuit}!nuit.h@{nuit.h}}
\doxysubsubsection{\texorpdfstring{creer\_nuit()}{creer\_nuit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}} \texorpdfstring{$\ast$}{*} creer\+\_\+nuit (\begin{DoxyParamCaption}\item[{SDL\+\_\+\+Renderer \texorpdfstring{$\ast$}{*}}]{rend,  }\item[{\mbox{\hyperlink{entite_8h_a2cbf188682c05adae88dc39bdd7ef995}{t\+\_\+entite}} \texorpdfstring{$\ast$}{*}}]{perso,  }\item[{SDL\+\_\+\+FRect}]{zone\+\_\+jeu,  }\item[{SDL\+\_\+\+Texture \texorpdfstring{$\ast$}{*}}]{texture\+\_\+jour,  }\item[{SDL\+\_\+\+Texture \texorpdfstring{$\ast$}{*}}]{texture\+\_\+nuit }\end{DoxyParamCaption})}



alloue la mémoire pour un objet {\ttfamily \doxylink{structt__nuit}{t\+\_\+nuit}} et initialise ses champs 


\begin{DoxyParams}{Paramètres}
{\em rend} & Rendu SDL auquel rattacher la texture contenant l’effet de nuit \\
\hline
{\em perso} & entité sur laquelle centrer la zone visible \\
\hline
{\em zone\+\_\+jeu} & rectangle auquel appliquer l’effet \\
\hline
{\em texture\+\_\+jour} & texture du fond de jeu pour le mode jour \\
\hline
{\em texture\+\_\+jour} & texture du fond de jeu pour le mode nuit \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
l’objet {\ttfamily \doxylink{structt__nuit}{t\+\_\+nuit}} alloué et initialisé 
\end{DoxyReturn}
activer la transparence des textures de fond de jeu

créer la texture utilisée pour dessiner l’effet et activer sa transparence

définir initialement l’effet comme non actif et précédemment actif pour commencer par une transition nuit vers jour\Hypertarget{nuit_8h_a4303b85b5050edb55214185fc6a8df7e}\label{nuit_8h_a4303b85b5050edb55214185fc6a8df7e} 
\index{nuit.h@{nuit.h}!detruire\_nuit@{detruire\_nuit}}
\index{detruire\_nuit@{detruire\_nuit}!nuit.h@{nuit.h}}
\doxysubsubsection{\texorpdfstring{detruire\_nuit()}{detruire\_nuit()}}
{\footnotesize\ttfamily void detruire\+\_\+nuit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}} \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{nuit }\end{DoxyParamCaption})}



libérer la mémoire d’un objet {\ttfamily \doxylink{structt__nuit}{t\+\_\+nuit}} 


\begin{DoxyParams}{Paramètres}
{\em nuit} & pointeur sur pointeur de l’objet à détruire \\
\hline
\end{DoxyParams}
\Hypertarget{nuit_8h_a61f4b7f050df29851049e1624eaecbb6}\label{nuit_8h_a61f4b7f050df29851049e1624eaecbb6} 
\index{nuit.h@{nuit.h}!transitionner\_nuit@{transitionner\_nuit}}
\index{transitionner\_nuit@{transitionner\_nuit}!nuit.h@{nuit.h}}
\doxysubsubsection{\texorpdfstring{transitionner\_nuit()}{transitionner\_nuit()}}
{\footnotesize\ttfamily void transitionner\+\_\+nuit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structt__nuit}{t\+\_\+nuit}} \texorpdfstring{$\ast$}{*}}]{nuit }\end{DoxyParamCaption})}



effectuer un pas de transition entre le mode jour et le mode nuit ou l’inverse 

Modifier les paramètres de l’effet de nuit par un pas de transition et actualiser les variables textures et musique en conséquence


\begin{DoxyParams}{Paramètres}
{\em nuit} & objet d’effet de nuit sur lequel effectuer la transition \\
\hline
\end{DoxyParams}
